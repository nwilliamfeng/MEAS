@{
    Layout = null;
    ViewBag.Title = "Login";
}
<head>

    <link rel="stylesheet" href="~/Content/bootstrap.min.css" />
    <link rel="stylesheet" href="~/Content/validate.css" />
    <script type="text/javascript" src="~/Scripts/jquery-3.1.1.min.js"></script>
    <script type="text/javascript" src="~/Scripts/bootstrap.min.js"></script>
    <script type="text/javascript" src="~/Scripts/jquery.validate.min.js"></script>
    <script type="text/javascript"  src="~/Scripts/jquery.validate.zh-cn.js"></script>

    <script type="text/javascript">
        //执行登录
        function executeLogin() {
            var username = $("#username").val();
            var password = $("#password").val();
            var url = '@Url.Action("dologin", "account")';

            $.ajax({
                type: "post",
                url: url,
                data: { username: username, password: password },
                success: function () {
                    alert("success!");
                },
                error: function () {
                    alert("fail!");
                }
            });
        }

        function validate() {
           
            $.validator.addMethod("stringCheck", function (value, element) {
                return this.optional(element) || /^[u0391-uFFE5w]+$/.test(value);
            }, "只能包括中文字、英文字母、数字和下划线");
            $('#loginform').validate({
                debug: true, //调试模式取消submit的默认提交功能
                // errorClass: "label.error", //默认为错误的样式类为：error
                focusInvalid: true, //当为false时，验证无效时，没有焦点响应
                onkeyup: function (element, event) {
                    if (event.which === 9 && this.elementValue(element) === "") {
                        return;
                    } else {
                        this.element(element);
                    }
                },
                submitHandler: function (form) {   //表单提交句柄,为一回调函数，带一个参数：form
                    executeLogin();
                },
                rules: {
                    username: {
                        // minlength: 2,
                        stringCheck:true,
                        required: true
                    },
                    password: {
                        required: true,
                        minlength: 4
                    }
                },
                highlight: function (element) {
                    $(element).parent("div").removeClass("has-success").addClass("has-error");
                },
                
                success: function (element) {
                    $(element).parent("div").removeClass("has-error").addClass("has-success");
                }
            });
        }



        $(function () {
            ddd();
            validate();
        });
    </script>
    <style>
        .control-label {
            vertical-align: central;
            margin: 104px,10px,10px,10px;
        }

        .btn {
            padding: 20px,10px;
            margin: 20px,10px;
        }

        .form-group {
            margin: 4px,10px,10px,10px;
        }

        #loginform {
            position: absolute;
            left: 40%;
            margin-top: 20px;
            width: 20%;
            height: 70%;
        }
    </style>

</head>


<body>

    <form id="loginform">

        <div style="text-align:center;">
            <h2><strong>IMSystem</strong></h2>
        </div>
        <div style="padding:15px;height:80%;border-radius:4px;border:1px #ddd solid;">
            <div>
                <h3>登录</h3>
            </div>
            <div id="result"></div>
            <div class="panel-body">

                <div class="form-group">
                    <label for="username" class="control-label">用户名</label>
                    <input type="text" id="username" name="username" class="form-control" placeholder="请输入用户名" autocomplete="off"/>

                </div>
                <div class="form-group">
                    <label for="password" class="control-label">登录密码</label>
                    <input type="password" id="password" name="password" class="form-control" placeholder="请输入密码"  autocomplete="off"/>
                </div>

                <div class="form-actions" style="margin-top:40px;">
                    <button class="btn btn-primary" style="width:100%;padding:5px;" type="submit">登录</button>
                </div>

            </div>

        </div>

    </form>



</body>
<footer class="modal-footer" style="position:fixed;bottom:0px;width:100%;">
    <div class="container">
        <p class="pull-left">&copy; @DateTime.Now.Year - <a href="http://www.meas.com" target="_blank">MEAS</a></p>
        <p class="pull-right"><a id="scroll-to-top" style="display:none;" href="#" title="fw"><span class="glyphicon glyphicon-arrow-up"></span> </a></p>
    </div>
</footer>

